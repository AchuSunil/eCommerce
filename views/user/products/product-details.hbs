<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<style>

   @media only screen and (min-width: 600px) {
* {box-sizing: border-box;}
.img-zoom-container {
  position: relative;
}
.img-zoom-lens {
  position: absolute;
  border: 1px solid #d4d4d4;
  /*set the size of the lens:*/
  width: 75px;
  height: 75px;
  border: none;
}
.img-zoom-result {
  border: 1px solid #d4d4d4;
  /*set the size of the result div:*/
  width: 263px;
  height: 300px;
}



#myhide {
    display: none;
}
.img-zoom-container:hover #myhide {
    display:block;
}
}

@media only screen and (max-width: 600px) {
    .img-zoom-container:hover #myhide {
    display:none;
}
  .img-zoom-container {
  position: relative;
  width: 480px;
  height: 320px;
  overflow: hidden;
}

.imgid {
  position: absolute;
  top: 0;
  left: 0;
}

.imgid img {
  -webkit-transition: 0.6s ease;
  transition: 0.6s ease;
}

.img-zoom-container:hover .imgid img {
  -webkit-transform: scale(1.9);
  transform: scale(1.9);
  overflow:show;
}
  
}

</style>

<section class="item-details section section-proDtls">

    <div class="container">
        <div class="top-area">

            <div class="row align-items-center">
                <div class="col-lg-6 col-md-12 col-12">

                    {{!-- <div class="product-images">
                        <main id="gallery">
                            <div class="main-img"> --}}

                                <div class="img-zoom-container" onmousenter="showme(this)">

                                    <span><p class="imgid" style="allign:center;"><img
                                                id="myimage"
                                                src="/product-images/{{productDetails._id}}.jpg"
                                                srcset="/product-images/{{productDetails._id}}.jpg"
                                                width="300"
                                                height="200"
                                            /></p></span>

                                    <span
                                        id="myhide"
                                        style="float: right;position: absolute;top: -100px;left: 300px; width: auto;height: 100%;">
                                        <div id="myresult" class="img-zoom-result" onmouseleave="hideme(this)"></div></span>
                                </div>

                                {{!-- <img src="/product-images/{{productDetails._id}}.jpg" alt="#" /> --}}

                            {{!-- </div> --}}

                            {{! <div class="images">
                                <img src="assets/images/product-details/01.jpg" class="img" alt="#" />
                                <img src="assets/images/product-details/02.jpg" class="img" alt="#" />
                                <img src="assets/images/product-details/03.jpg" class="img" alt="#" />
                                <img src="assets/images/product-details/04.jpg" class="img" alt="#" />
                                <img src="assets/images/product-details/05.jpg" class="img" alt="#" />
                            </div> }}
                        {{!-- </main>
                    </div> --}}
                </div>
                <div class="col-lg-6 col-md-12 col-12">
                    <div class="product-info">
                        <h2 class="title"><span>{{productDetails.product_name}}</span><span
                                class="ml-2"
                            >({{productDetails.Inch}} Inch)</span><span class="ml-2">{{productDetails.Resolution}}
                                TV</span><span class="ml-2 fs-5">({{productDetails.modelname}})</span></h2>
                        <p class="category"><i class="lni lni-tag"></i><span class="text-success"> Television:</span>
                            <a href="javascript:void(0)" class="text-primary">{{productDetails.Category}}</a></p>
                        <h3 class="price">&#8377; {{productDetails.Price}}</h3>
                        <p class="info-text text-secondary fs-6">
                            1 year warranty on product and 1 year warranty on panel</p>
                        <div class="row">
                            <div class="col-lg-4 col-md-4 col-12">
                                <div class="form-group color-option">
                                    <label class="title-label text-dark fs-6" for="display">Display</label>
                                    <span class="border fs-5 p-2" id="display">{{productDetails.Inch}}</span>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-4 col-12">
                                <div class="form-group quantity">
                                    <label class="title-label text-dark fs-6" for="highlights">Highlights</label>
                                    <ul id="highlights">
                                        <li style="list-style-type: circle;">{{productDetails.Category}}</li>
                                        <li style="list-style-type: circle;">{{productDetails.Resolution}}</li>
                                        <li style="list-style-type: circle;">{{productDetails.Screen_type}}</li>
                                    </ul>

                                </div>
                            </div>
                            <div class="col-lg-4 col-md-4 col-12">
                                <div class="form-group quantity">
                                    <label class="title-label text-dark fs-6">Delivery</label>
                                    <p>All India</p>
                                    <span class="text-primary">Free Delivery</span>
                                </div>
                            </div>
                        </div>
                        <div class="bottom-content">
                            <div class="row align-items-end">
                                <div class="col-lg-6 col-md-6 col-12">
                                    <div class="button">
                                        <a href="/add-tocart-productDetailsPage/{{productDetails._id}}" class="btn"><i
                                                class="lni lni-cart"
                                            ></i>
                                            Add to Cart</a>
                                    </div>
                                </div>

                                <div class="col-lg-6 col-md-6 col-12">
                                    <div class="wish-button">
                                        <a href="#" class="btn" onclick="addToWishlist(event,'{{productDetails._id}}')"><i
                                                class="lni lni-heart"
                                            ></i>To Wishlist</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="product-details-info">
            <div class="single-block">
                <div class="row">
                    <div class="col-lg-6 col-12">
                        <div class="info-body custom-responsive-margin">
                            <h4>Details</h4>
                            <p>{{productDetails.Description}}</p>
                            <h4>Features</h4>
                            <ul class="features">
                                <li>Supported Apps: Netflix|Prime Video|Disney+Hotstar|Youtube</li>
                                <li>Sound Output: 30 W</li>
                                <li>Refresh Rate: 60 Hz</li>
                                <li>Operating System: {{productDetails.OS}} (Google Assistant & Chromecast in-built)</li>

                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-6 col-12">
                        <div class="info-body ml-5">
                            <h4>Specifications</h4>
                            <ul class="normal-list">
                                <li><span class="text-secondary">Model Name: </span>
                                    <span>{{productDetails.modelname}}</span></li>
                                <li><span class="text-secondary">Display Size:</span>
                                    <span>{{productDetails.Inch}}</span></li>
                                <li><span class="text-secondary">Screen Type:</span>
                                    <span>{{productDetails.Screen_type}}</span></li>
                                <li><span class="text-secondary">HD Technology & Resolution:</span>
                                    <span>{{productDetails.Resolution}}</span></li>
                                <li><span class="text-secondary">HDMI:</span> <span>{{productDetails.HDMI_port}}</span></li>
                                <li><span class="text-secondary">USB:</span> <span>{{productDetails.USB_port}}</span></li>
                                <li><span class="text-secondary">Connectivity:</span>
                                    <span>{{productDetails.connectivity}}</span></li>
                                <li><span class="text-secondary">OS:</span> <span>{{productDetails.OS}}</span></li>

                            </ul>
                            <h4>Shipping Options:</h4>
                            <ul class="normal-list">
                                <li><span>Courier:</span> 2 - 4 days, Free</li>
                                <li><span>Local Shipping:</span> up to one week, Free</li>
                                <li><span>UPS Ground Shipping:</span> 4 - 6 days, Free</li>
                                <li><span>Unishop Global Export:</span> 3 - 4 days, Free</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

<a href="#" class="scroll-top">
    <i class="lni lni-chevron-up"></i>
</a>


<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
  imageZoom("myimage", "myresult");
function imageZoom(imgID, resultID) {
  var img, lens, result, cx, cy;
  img = document.getElementById(imgID);
  result = document.getElementById(resultID);
  /*create lens:*/
  lens = document.createElement("DIV");
  lens.setAttribute("class", "img-zoom-lens");
  /*insert lens:*/
  img.parentElement.insertBefore(lens, img);
  /*calculate the ratio between result DIV and lens:*/
   console.log("result.offsetWidth  >>>>>", result.offsetWidth ,"lens.offsetWidth>>>>>>>>>>>",lens.offsetWidth);
  cx = 300 / lens.offsetWidth;
  console.log("result.offsetHeight>>>>>",result.offsetHeight ,"llens.offsetHeighth>>>>>>>>>>>",lens.offsetHeight);
  cy = 300 / lens.offsetHeight;
  /*set background properties for the result DIV:*/
  result.style.backgroundImage = "url('" + img.srcset + "')";
  result.style.backgroundSize = (img.width * cx) + "px " + (img.height * cy) + "px";
  /*execute a function when someone moves the cursor over the image, or the lens:*/
  lens.addEventListener("mousemove", moveLens);
  img.addEventListener("mousemove", moveLens);
  /*and also for touch screens:*/
  lens.addEventListener("touchmove", moveLens);
  img.addEventListener("touchmove", moveLens);
 // img.addEventListener("mouseenter", bigImg);  
 
  
  
  function bigImg(x) {
    console.log("onmouseenter >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>");
}

function normalImg(x) {
//result.style.display ="none";
     console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>onmousLEAVE");
}


  
  function moveLens(e) {
    var pos, x, y;
    /*prevent any other actions that may occur when moving over the image:*/
    e.preventDefault();
    /*get the cursor's x and y positions:*/
    pos = getCursorPos(e);
    /*calculate the position of the lens:*/
    x = pos.x - (lens.offsetWidth / 2);
    y = pos.y - (lens.offsetHeight / 2);
  // console.log("x" , x , "and Y " , y); 
    /*prevent the lens from being positioned outside the image:*/
    if (x > img.width - lens.offsetWidth) {x = img.width - lens.offsetWidth;  } //else{img.addEventListener("mouseenter", bigImg);  }
    if (x < 0) {x = 0;}
    if (y > img.height - lens.offsetHeight) {y = img.height - lens.offsetHeight; img.addEventListener("mouseleave",  normalImg);}//else{img.addEventListener("mouseenter", bigImg);  }
    if (y < 0) {y = 0;}
    /*set the position of the lens:*/
    lens.style.left = x + "px";
    lens.style.top = y + "px";
    /*display what the lens "sees":*/
    result.style.backgroundPosition = "-" + (x * cx) + "px -" + (y * cy) + "px";
  }
  function getCursorPos(e) {
    var a, x = 0, y = 0;
    e = e || window.event;
    /*get the x and y positions of the image:*/
    a = img.getBoundingClientRect();
    //console.log("------------------A  left" ,  a ); 
    /*calculate the cursor's x and y coordinates, relative to the image:*/
    x = e.pageX - a.left;
    y = e.pageY - a.top;
    /*consider any page scrolling:*/
    x = x - window.pageXOffset;
    y = y - window.pageYOffset;
    return {x : x, y : y};
  }
  
}

function hideme(x) {
    //x.style.display = "none";
   
}
function showme(x) {
    //x.style.display = "block";
   
}



</script> 
<script>
    //const current = document.getElementById("current"); const opacity = 0.6; const imgs = document.querySelectorAll(".img");
    //imgs.forEach(img => { img.addEventListener("click", (e) => { //reset opacity imgs.forEach(img => { img.style.opacity =
    //1; }); current.src = e.target.src; //adding class //current.classList.add("fade-in"); //opacity e.target.style.opacity =
    //opacity; }); });



  function addToWishlist(event, proId) {
	event.preventDefault()

	$.ajax({
		url: '/add-toWishlist',
		data: {
			proId: proId
		},
		method: 'post',
		success: (response) => {
			if (response.status) {

				Swal.fire({
					icon: 'success',
					title: 'Product added to wishlist',
					showConfirmButton: false,
					timer: 1500
				}).then(()=>{
                   let wishlistCount = document.getElementById('wishlistCount');
				wishlistCount.innerHTML = response.wishlistCount;
                })
				
			} else if(response.status === false) {
				Swal.fire({
					icon: 'error',
					title: 'Product already added to wishlist',
					showConfirmButton: false,
					timer: 1500
				})

			}else{
                Swal.fire({
                    icon: 'error',
                    title: 'Please login!',
                    showConfirmButton: false,
                    timer: 1500
                })

            }
		}
	})

}
</script> 